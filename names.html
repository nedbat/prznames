 <!DOCTYPE html> <!-- vim: set foldmethod=marker :-->
<!--
Process this file with cog:

    $ pip install -r requirements.txt
    $ cog.py -r names.html

-->
<html>
<!-- *** Head stuff {{{ -->
<title>Python Names</title>
<meta charset="utf-8" />

    <!-- *** Includes {{{ -->
    <!-- Slippy core file and dependencies -->
    <script type="text/javascript" src="slippy/jquery.min.js"></script>
    <script type="text/javascript" src="slippy/jquery.history.js"></script>
    <script type="text/javascript" src="slippy/slippy.js"></script>
    <!-- Slippy structural styles -->
    <link type="text/css" rel="stylesheet" href="slippy/slippy.css"/>
    <!-- Slippy theme -->
    <link type="text/css" rel="stylesheet" href="slippy/slippy-pure.css"/>

    <!-- Highlight, for syntax coloring. -->
    <script type="text/javascript" src="highlight/highlight.pack.js"></script>
    <link rel="stylesheet" href="highlight/vs.css">

    <script type="text/javascript" src="lineselect.js"></script>

    <!-- http://html.adobe.com/edge/webfonts/ -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>
    <!-- }}} -->

    <!-- *** Init code {{{ -->
    <script type="text/javascript">
        $(function() {
            if ($("body.slides").length) {
                $(".slide").slippy({
                    // settings go here
                    // possible values are:
                    //  - animLen, duration for default animations (0 = disabled)
                    //  - animInForward, receives a slide and animates it
                    //  - animInRewind, receives a slide and animates it
                    //  - animOutForward, receives a slide and animates it
                    //  - animOutRewind, receives a slide and animates it
                    //  - baseWidth, defines the base for img resizing, if you don't want only
                    //    full-width images, specify this as the pixel width of a slide so that
                    //    images are scaled properly (default is 620px wide)
                    //  - ratio, defines the width/height ratio of the slides, defaults to 1.3 (620x476)
                    //  - margin, the fraction of screen to use as slide margin, defaults to 0.15
                    margin: 0.04,
                    incrementalBefore: function (el) {
                        $(el).css({ opacity: 0.01 });
                    },
                    animInForward: function (slide) {
                        var slide = $(slide);
                        if (slide.hasClass("fadein")) {
                            slide.css('opacity', '0').css('left', '50%').animate({opacity: '1'}, 350);
                        }
                        else {
                            slide.css('left', '150%').animate({left: '50%'}, 350);
                        }
                        slide.find(".incremental").css({opacity:0});    // IDK why this hides them, but 0.01 does not.
                    },
                    animOutForward: function(slide) {
                        var slide = $(slide);
                        if (slide.hasClass("fadeout")) {
                            slide.animate({opacity: '1'}, 350).animate({left: '-50%'}, 0);
                        }
                        else {
                            slide.animate({left: '-50%'}, 350);
                        }
                    }
                });
            }

            $('pre').each(function (i, e) {
                hljs.highlightBlock(e, '    ');
            });

            $('pre').each(function (i, e) {
                var $e = $(e);
                var h = $e.html();
                h = h.replace(/\n\n/g, "\n \n");
                h = h.replace(/\n/g, "</span>\n<span class='line'>");
                h = "<span class='line'>" + h + "</span>";
                $e.html(h);
            });

            $("div.slide").lineselect({ lines: "pre span.line" });

            // Pre-select lines based on a select= attribute.
            $('pre').each(function (i, e) {
                var $e = $(e);
                var select = $e.attr("select");
                if (select) {
                    $e.lineselect(select);
                }
            });
        });
    </script>
    <!-- }}} -->

    <!-- *** Custom style for this deck {{{ -->
    <style type="text/css">
        body, html {
            background: #222;
            font-family: "Open Sans", sans-serif;
        }

        div.text {
            display: none;
        }

        .slide {
            font-family: "Open Sans", sans-serif;
            font-weight: 600;
            margin: 1em;
            border: 1px solid #ccc;
            border-radius: 1em;
            background: #fffaf0;
            font-size: 150%;
        }
        h1, h2, h3, h4 {
            font-family: "Open Sans", sans-serif;
            font-weight: 700;
            line-height: 1.5;
            text-align: left;
            word-spacing: .1em;
        }

        .slide.title h1 {
            font-family: "Open Sans", sans-serif;
            font-weight: 800;
            padding-top: 2em;
            font-size: 200%;
            text-align: center;
        }
        .slide.title h2 {
            text-align: center;
            font-size: 125%;
            color: #666;
            margin-top: 2em;
        }
        .slide.section {
            background-color: #ff8;
        }
        .slide.section h1 {
            font-family: "Open Sans", sans-serif;
            font-weight: 700;
            margin-top: 3em;
            font-size: 200%;
            text-align: center;
        }
        .slide.section h2 {
            text-align: center;
            font-size: 125%;
            color: #666;
            margin-top: 2em;
        }
        .slide p {
            text-align: left;
            margin-top: 1em;
        }
        .slide .footer {
            font-weight: 400;
            color: #666;
        }
        .slide .footer .punct {
            padding: 0 .1em;
            color: #999;
        }

        .slide p.generic {
            font-family: serif;
            margin-top: .5em;
        }

        .slide pre {
            font-family: Consolas, monaco, monospace;
            margin-top: 1em;
            background: #ccf;
            padding: .35em .35em;
            line-height: 1.15;
        }

        .slide pre.python {
            background: #cfc;
        }

        pre .selected {
            xbackground: #88f;
        }

        pre.python .selected {
            background: #fff;
            border: .15em solid #f88;
            padding: .15em .15em .05em .15em;
            margin: -.3em -.3em -.2em -.3em;
        }

        .slide li {
            list-style: none;
            margin-top: .5em;
            position:relative;
        }
        .slide li:before {
            content: '';
            display: block;
            position: absolute;
            width: .3em;
            height: .3em;
            border-radius: .3em;
            left: -1em;
            top: .4em;
            background-color: #999;
        }

        a:visited, a:active, a:link, a {
            color: #0000CC;
            cursor: pointer;
        }
        body.notes {
            overflow: auto;
            background: white;
        }
        .notes .slide {
            position: static;
            left: auto;
            top: auto;
            width: 20em;
            height: auto;
            border: 2px solid #888;
            padding: 1em 2em;
            margin: 1em 1em;
            font-size: 100%;
        }
        .notes img {
            display: none;
        }

        .overlay_container {
            padding-top: 1em;
        }
        .overlay {
            position: relative;
            width: 100%;
            height: 0;
        }
        .lefthalf {
            position: absolute;
            top: 0;
            left: 0;
        }
        .righthalf {
            position: absolute;
            top: 0;
            right: 0;
        }
        .tophalf {
            position: relative;
            width: 100%;
        }
        .bottomhalf {
            position: relative;
            width: 100%;
        }
        .opaque {
            background: #fffaf0;
        }
        .slide pre.tophalf {
            margin-top: 0;  /* No idea why I need this... :( :( */
        }
        span.myth {
            display: inline-block;
            margin-left: -3.5em;
            width: 3.5em;
            color: red;
            font-weight: bold;
            text-transform: uppercase;
        }
        h1.myth {
            margin-left: 3.5em;
        }

    </style>
    <!-- }}} -->

<!-- *** Cog prolog and definition {{{ -->
<!--[[[cog
    from contextlib import contextmanager
    import random
    import string

    import cog
    import cupid.pyfig

    # The defaults for all PyFigs in this file.
    pyfig_defaults = dict(
        draw_grid=False,
        label_frames=False,
        y=25,
        name_right=200,
        val_gap=75,
        name_shape="tag",
        )

    def make_pyfig(**kwargs):
        """Construct a PyFig using our defaults."""
        pyfig_kwargs = dict(pyfig_defaults)
        pyfig_kwargs.update(kwargs)
        return cupid.pyfig.PyFig(**pyfig_kwargs)

    @contextmanager
    def vim_fold(label):
        cog.outl("<!-" "- " + label + " {" "{{ -" "->")
        yield
        cog.outl("<!-" "- }" "}} -" "->")

    def pyfig_animation(code, figfunc, lines=None):
        num_lines = len(code.rstrip().splitlines())
        lines = lines or range(1, num_lines+1)
        with vim_fold("Animation"):
            cog.outl('''<div class="overlay_container">''')
            for frame, line in enumerate([None]+lines):
                div_class = "overlay"
                if frame > 0:
                    div_class += " incremental"
                cog.outl('''<div class="{}">'''.format(div_class))
                select = ''
                if line is not None:
                    if isinstance(line, int):
                        lines = str(line)
                    else:
                        lines = ",".join(map(str, line))
                    select = ' select="{}"'.format(lines)
                cog.outl('''<pre class="python tophalf"{}>'''.format(select))
                cog.out(code)
                cog.outl('''</pre>''')
                if frame > 0:
                    cog.outl('''<div class="opaque bottomhalf" style="text-align:center">''')
                    figfunc(frame)
                    cog.outl('''</div>''')
                cog.outl('''</div>''')
            cog.outl('''</div>''')

    def auto_name(fig, text, **args):
        width = 50 + 12*len(text)
        return fig.name(pos=fig.next_name(), size=(width,50), text=text, **args)
        
]]]-->
<!--[[[end]]] }}}-->

<!-- *** Cupid-supplied svg styling {{{ -->
<style>
<!--[[[cog
cog.outl(cupid.pyfig.PyFig.CSS)
]]]-->

svg {
    stroke: black;
    fill: white;
}

svg text {
    stroke: none;
    fill: black;
}

svg .arrow {
    fill: none;
    stroke: black;
    stroke-width: 1;
}

svg .highlight {
    stroke-width: 5;
    stroke: #f00;
    fill: none;
    opacity: 0.5;
}

svg .grid {
    stroke: #8ff; stroke-width: 1; fill: none;
}
svg .grid .half {
    stroke-dasharray: 12.5 12.5;
    stroke-dashoffset: 6.25;
    stroke-dasharray: 2 2;
    stroke-dashoffset: 1;
}
svg .grid .tiny {
    stroke-dasharray: 1 2;
    stroke: #cff;
}
svg .grid .number {
    font-size: .5em;
    stroke: none;
    fill: #0cc;
}

svg .framenum {
    font-size: .75em;
    stroke: none;
    fill: #f00;
}

svg .name {
    stroke: black;
    stroke-width: 2;
    fill: #ddd;
}

svg .value {
    stroke: black;
    stroke-width: 1;
    fill: white;
}

svg .list {
    stroke: black;
    stroke-width: 1;
    fill: white;
}

svg .frame {
    stroke-width: 3;
    stroke: #666;
    stroke-dasharray: 10 10;
    fill: none;
}

svg text.framelabel {
    font-size: 75%;
    font-family: monospace;
}

<!--[[[end]]]-->
</style>
<!-- }}} -->

</head>
<!-- }}} -->
<body class="slides">

<div class="slide title" data-layout="clean">
    <h1>Facts and Myths about Names and Values</h1>
    <h2>Ned Batchelder<br/>@nedbat</h2>
    <h2>http://bit.ly/pynames</h2>
</div>

<div class="slide">
    <h1>Python is simple</h1>
    <ul>
    <li class="incremental">Works like other languages</li>
    <li class="incremental">... until it doesn't</li>
    <li class="incremental">Mechanisms are simple</li>
    <li class="incremental">... but the effects can be surprising</li>
    <li class="incremental">Names, values, assignment, etc</li>
    </ul>
</div>

<div class="slide">
    <h1>Names refer to values</h1>
    <p>Assignment means: make this name refer to that value</p>
    <!--[[[cog
    code = '''\
        x = 23
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,400), frame_num=frame)

        x = auto_name(fig, "x")
        c = fig.int(pos=fig.val_for_name(x), text="23")
        fig.reference(x, c)

        cog.outl(fig.tostring())

    pyfig_animation(code, figure, [])
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        x = 23
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        x = 23
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id1" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">23</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id1)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1>Many names can refer to one value</h1>
    <!--[[[cog
    code = '''\
        x = 23
        y = x
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,400), frame_num=frame)

        n_x = auto_name(fig, "x")
        i_23 = fig.int(pos=fig.val_for_name(n_x), text="23")
        fig.reference(n_x, i_23)
        n_y = auto_name(fig, "y", rise=2)
        c_23 = (n_x.cy + n_y.cy) / 2
        fig.reference(n_y, i_23)
        cog.outl(fig.tostring())

    pyfig_animation(code, figure)
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        x = 23
        y = x
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        x = 23
        y = x
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id2" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">23</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id2)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        x = 23
        y = x
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id3" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">23</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id3)" /><polygon class="name" points="138,100 193.75,100 200,125 193.75,150 138,150" /><text dy=".3em" text-anchor="middle" x="165.875" y="125">y</text><path class="arrow" d="M 200,125 C 226,125 230,112 237,87 C 244,62 248,50 275,50" fill="none" marker-end="url(#id3)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1>Names are reassigned independently</h1>
    <!--[[[cog
    code = '''\
        x = 23
        y = x
        x = 12
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,400), frame_num=frame)

        n_x = auto_name(fig, "x", set=3)
        fig.next_name()  # Burn a name to space them out.
        n_y = auto_name(fig, "y", rise=2)
        c_23 = (n_x.cy + n_y.cy) / 2
        i_23 = fig.int(left=(fig.val_left, c_23), text="23")
        fig.reference(n_x, i_23)
        fig.reference(n_y, i_23)

        n_x = fig.name(center=n_x.center, size=n_x.size, text="x")
        i_12 = fig.int(pos=fig.val_for_name(n_x), text="12", rise=3)
        fig.reference(n_x, i_12)

        cog.outl(fig.tostring())

    pyfig_animation(code, figure)
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        x = 23
        y = x
        x = 12
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        x = 23
        y = x
        x = 12
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id4" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><circle class="int value" cx="300" cy="125" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="125">23</text><path class="arrow" d="M 200,50 C 226,50 230,62 237,87 C 244,112 248,125 275,125" fill="none" marker-end="url(#id4)" /><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        x = 23
        y = x
        x = 12
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id5" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><polygon class="name" points="138,175 193.75,175 200,200 193.75,225 138,225" /><text dy=".3em" text-anchor="middle" x="165.875" y="200">y</text><circle class="int value" cx="300" cy="125" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="125">23</text><path class="arrow" d="M 200,50 C 226,50 230,62 237,87 C 244,112 248,125 275,125" fill="none" marker-end="url(#id5)" /><path class="arrow" d="M 200,200 C 226,200 230,187 237,162 C 244,137 248,125 275,125" fill="none" marker-end="url(#id5)" /><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="3">
        x = 23
        y = x
        x = 12
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id6" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,175 193.75,175 200,200 193.75,225 138,225" /><text dy=".3em" text-anchor="middle" x="165.875" y="200">y</text><circle class="int value" cx="300" cy="125" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="125">23</text><path class="arrow" d="M 200,200 C 226,200 230,187 237,162 C 244,137 248,125 275,125" fill="none" marker-end="url(#id6)" /><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">12</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id6)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1>Values live until no references</h1>
    <!--[[[cog
    code = '''\
        x = "hello"
        x = "world"
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,400), frame_num=frame)

        n_x = auto_name(fig, "x", set=2)
        n_hidden = auto_name(fig, "", set=0)
        s_hello = fig.string(pos=fig.val_for_name(n_x), size=(120,50), text=repr("hello"), set=2, fade=1)
        fig.reference(n_x, s_hello)
        n_x = fig.name(center=n_x.center, size=n_x.size, text="x", rise=2)
        s_hello = fig.string(pos=fig.val_for_name(n_hidden), size=(120, 50), text=repr("world"), rise=2)
        fig.reference(n_x, s_hello)

        cog.outl(fig.tostring())

    pyfig_animation(code, figure, [1, 2, 2])
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        x = "hello"
        x = "world"
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        x = "hello"
        x = "world"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id7" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><rect class="string value" height="50" rx="25" ry="25" width="120" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">'hello'</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id7)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        x = "hello"
        x = "world"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id8" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><rect class="string value" height="50" opacity="0.25" rx="25" ry="25" width="120" x="275" y="25" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="335" y="50">'hello'</text><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><rect class="string value" height="50" rx="25" ry="25" width="120" x="275" y="100" /><text dy=".3em" text-anchor="middle" x="335" y="125">'world'</text><path class="arrow" d="M 200,50 C 226,50 230,62 237,87 C 244,112 248,125 275,125" fill="none" marker-end="url(#id8)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        x = "hello"
        x = "world"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id9" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><rect class="string value" height="50" rx="25" ry="25" width="120" x="275" y="100" /><text dy=".3em" text-anchor="middle" x="335" y="125">'world'</text><path class="arrow" d="M 200,50 C 226,50 230,62 237,87 C 244,112 248,125 275,125" fill="none" marker-end="url(#id9)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1>Assignment never copies data</h1>
    <!--[[[cog
    code = '''\
        nums = [1, 2, 3]
        other = nums
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,400), frame_num=frame)

        n_nums = auto_name(fig, "nums")
        l_nums = fig.list(texts="123", pos=fig.val_for_name(n_nums))
        fig.reference(n_nums, l_nums[0])

        n_other = auto_name(fig, "other", rise=2)
        fig.reference(n_other, l_nums[0])

        cog.outl(fig.tostring())

    pyfig_animation(code, figure)
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        nums = [1, 2, 3]
        other = nums
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        nums = [1, 2, 3]
        other = nums
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id10" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id10)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        nums = [1, 2, 3]
        other = nums
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id11" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id11)" /><polygon class="name" points="90,100 193.75,100 200,125 193.75,150 90,150" /><text dy=".3em" text-anchor="middle" x="141.875" y="125">other</text><path class="arrow" d="M 200,125 C 226,125 230,112 237,87 C 244,62 248,50 275,50" fill="none" marker-end="url(#id11)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1>Changes are visible through all names</h1>
    <!--[[[cog
    code = '''\
        nums = [1, 2, 3]
        other = nums
        nums.append(4)
        print other     # [1, 2, 3, 4] !!!
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,400), frame_num=frame)

        n_nums = auto_name(fig, "nums")
        l_nums = fig.list(texts="123", pos=fig.val_for_name(n_nums))
        fig.reference(n_nums, l_nums[0])

        n_other = auto_name(fig, "other", rise=2)
        fig.reference(n_other, l_nums[0])

        l_nums = fig.list(texts=["1", "2", "3" ,"4"], center=l_nums[0].center, rise=3)
        cog.outl(fig.tostring())

    pyfig_animation(code, figure)
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        nums = [1, 2, 3]
        other = nums
        nums.append(4)
        print other     # [1, 2, 3, 4] !!!
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        nums = [1, 2, 3]
        other = nums
        nums.append(4)
        print other     # [1, 2, 3, 4] !!!
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id12" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id12)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        nums = [1, 2, 3]
        other = nums
        nums.append(4)
        print other     # [1, 2, 3, 4] !!!
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id13" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id13)" /><polygon class="name" points="90,100 193.75,100 200,125 193.75,150 90,150" /><text dy=".3em" text-anchor="middle" x="141.875" y="125">other</text><path class="arrow" d="M 200,125 C 226,125 230,112 237,87 C 244,62 248,50 275,50" fill="none" marker-end="url(#id13)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="3">
        nums = [1, 2, 3]
        other = nums
        nums.append(4)
        print other     # [1, 2, 3, 4] !!!
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id14" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id14)" /><polygon class="name" points="90,100 193.75,100 200,125 193.75,150 90,150" /><text dy=".3em" text-anchor="middle" x="141.875" y="125">other</text><path class="arrow" d="M 200,125 C 226,125 230,112 237,87 C 244,62 248,50 275,50" fill="none" marker-end="url(#id14)" /><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">4</text></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="4">
        nums = [1, 2, 3]
        other = nums
        nums.append(4)
        print other     # [1, 2, 3, 4] !!!
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id15" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id15)" /><polygon class="name" points="90,100 193.75,100 200,125 193.75,150 90,150" /><text dy=".3em" text-anchor="middle" x="141.875" y="125">other</text><path class="arrow" d="M 200,125 C 226,125 230,112 237,87 C 244,62 248,50 275,50" fill="none" marker-end="url(#id15)" /><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">4</text></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1>Mutable aliasing!</h1>
    <ul>
        <li class="incremental">A mutable value</li>
        <li class="incremental">more than one name</li>
        <li class="incremental">the value changes</li>
        <li class="incremental">all names see the change!</li>
    </ul>
</div>

<div class="slide">
    <h1>Immutable values can't alias</h1>
    <p>Immutable types: ints, floats, strings, tuples</p>
    <!--[[[cog
    code = '''\
        x = "hello"
        y = x
        x = x + " there"
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,400), frame_num=frame)

        n_x = auto_name(fig, "x", set=4)
        n_y = auto_name(fig, "y", rise=2)
        s_hello = fig.string(pos=fig.val_for_name(n_y), size=(120,50), text=repr("hello"))
        fig.reference(n_x, s_hello)
        fig.reference(n_y, s_hello)
        s_there = fig.string(pos=fig.val_for_name(n_x), size=(200, 50), text=repr("hello there"), rise=3)
        n_x = fig.name(center=n_x.center, size=n_x.size, text="x", rise=4)
        fig.reference(n_x, s_there)
        cog.outl(fig.tostring())

    pyfig_animation(code, figure, [1, 2, 3, 3])
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        x = "hello"
        y = x
        x = x + " there"
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        x = "hello"
        y = x
        x = x + " there"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id16" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><rect class="string value" height="50" rx="25" ry="25" width="120" x="275" y="100" /><text dy=".3em" text-anchor="middle" x="335" y="125">'hello'</text><path class="arrow" d="M 200,50 C 226,50 230,62 237,87 C 244,112 248,125 275,125" fill="none" marker-end="url(#id16)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        x = "hello"
        y = x
        x = x + " there"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id17" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><polygon class="name" points="138,100 193.75,100 200,125 193.75,150 138,150" /><text dy=".3em" text-anchor="middle" x="165.875" y="125">y</text><rect class="string value" height="50" rx="25" ry="25" width="120" x="275" y="100" /><text dy=".3em" text-anchor="middle" x="335" y="125">'hello'</text><path class="arrow" d="M 200,50 C 226,50 230,62 237,87 C 244,112 248,125 275,125" fill="none" marker-end="url(#id17)" /><path class="arrow" d="M 200,125 C 218,125 218,125 237,125 C 256,125 256,125 275,125" fill="none" marker-end="url(#id17)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="3">
        x = "hello"
        y = x
        x = x + " there"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id18" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><polygon class="name" points="138,100 193.75,100 200,125 193.75,150 138,150" /><text dy=".3em" text-anchor="middle" x="165.875" y="125">y</text><rect class="string value" height="50" rx="25" ry="25" width="120" x="275" y="100" /><text dy=".3em" text-anchor="middle" x="335" y="125">'hello'</text><path class="arrow" d="M 200,50 C 226,50 230,62 237,87 C 244,112 248,125 275,125" fill="none" marker-end="url(#id18)" /><path class="arrow" d="M 200,125 C 218,125 218,125 237,125 C 256,125 256,125 275,125" fill="none" marker-end="url(#id18)" /><rect class="string value" height="50" rx="25" ry="25" width="200" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">'hello there'</text></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="3">
        x = "hello"
        y = x
        x = x + " there"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id19" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="138,100 193.75,100 200,125 193.75,150 138,150" /><text dy=".3em" text-anchor="middle" x="165.875" y="125">y</text><rect class="string value" height="50" rx="25" ry="25" width="120" x="275" y="100" /><text dy=".3em" text-anchor="middle" x="335" y="125">'hello'</text><path class="arrow" d="M 200,125 C 218,125 218,125 237,125 C 256,125 256,125 275,125" fill="none" marker-end="url(#id19)" /><rect class="string value" height="50" rx="25" ry="25" width="200" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">'hello there'</text><polygon class="name" points="138,25 193.75,25 200,50 193.75,75 138,75" /><text dy=".3em" text-anchor="middle" x="165.875" y="50">x</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id19)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1>"Change" is unclear</h1>
    <div class="incremental">
        <p>Changing an int: <b>rebinding</b></p>
        <pre class="python">
        x = x + 1
        </pre>
    </div>
    <div class="incremental">
        <p>Changing a list: <b>mutating</b></p>
        <pre class="python">
        nums.append(7)
        </pre>
    </div>
    <div class="incremental">
        <p>Can also <b>rebind</b> lists:</p>
        <pre class="python">
        nums = nums + [7]
        </pre>
    </div>
    <div class="incremental">
        <p>Can't mutate an int: ints are immutable</p>
    </div>
</div>

<div class="slide">
    <h1>Python assigns mutable and immutable values identically</h1>
    <ul>
    <li class="incremental">Assignment is the same for <b>all</b> values.</li>
    <li class="incremental">Aliasing can make it seem different.</li>
    </ul>
</div>

<div class="slide">
    <h1>Assignment variants</h1>
    <div class="incremental">
    <pre class="python">
    x += y
    x = x + y           # conceptually
    x = x.__iadd__(y)   # actually!
    </pre>
    </div>

    <div class="incremental">
    <pre class="python">
    # These are the same:
    num_list += [4, 5]
    num_list.extend([4, 5])
    </pre>
    </div>

    <div class="incremental">
    <pre class="python">
    # pseudo-code!
    class List:
        def __iadd__(self, other):
            self.extend(other)
            return self
    </pre>
    </div>

    <p class="incremental">Know what you are doing</p>
</div>

<div class="slide">
    <h1>References can be more than just names</h1>
    <p>List elements are references</p>
    <!--[[[cog
    code = '''\
        nums = [1, 2, 3]
        x = nums[1]
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,400), frame_num=frame)

        n_nums = auto_name(fig, "nums")
        l_nums = fig.list(texts="123", pos=fig.val_for_name(n_nums), set=2)
        fig.reference(n_nums, l_nums[0])
        l_nums = fig.list(texts=["", "", ""], pos=fig.val_for_name(n_nums), rise=2)
        fig.reference(n_nums, l_nums[0])
        n_hidden = auto_name(fig, "", set=0)
        int_y = n_hidden.cy
        ints = [fig.int(left=(fig.val_left+i*60, int_y), text=str(i+1), rise=2) for i in range(3)]
        for i in range(3):
            fig.connect(l_nums[i].center, 90, ints[i].north, 90, start_marker=fig.DOT, class_="arrow", rise=2)

        n_x = auto_name(fig, "x", rise=3)
        fig.connect(n_x.east, 0, ints[1].south, -90, class_="arrow", rise=3)

        cog.outl(fig.tostring())

    pyfig_animation(code, figure, [1, 1, 2])
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        nums = [1, 2, 3]
        x = nums[1]
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        nums = [1, 2, 3]
        x = nums[1]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id20" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker><marker id="id21" markerHeight="4" markerWidth="4" orient="auto" refX="2" refY="2" viewBox="0,0,4,4"><circle cx="2" cy="2" fill="black" r="2" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id20)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        nums = [1, 2, 3]
        x = nums[1]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id22" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker><marker id="id23" markerHeight="4" markerWidth="4" orient="auto" refX="2" refY="2" viewBox="0,0,4,4"><circle cx="2" cy="2" fill="black" r="2" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><rect class="list" height="50" width="40" x="315" y="25" /><rect class="list" height="50" width="40" x="355" y="25" /><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id22)" /><circle class="int value" cx="300" cy="125" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="125">1</text><circle class="int value" cx="360" cy="125" r="25" /><text dy=".3em" text-anchor="middle" x="360" y="125">2</text><circle class="int value" cx="420" cy="125" r="25" /><text dy=".3em" text-anchor="middle" x="420" y="125">3</text><path class="arrow" d="M 295,50 C 295,62 295,62 297,75 C 299,87 300,87 300,100" fill="none" marker-end="url(#id22)" marker-start="url(#id23)" /><path class="arrow" d="M 335,50 C 335,63 337,65 347,75 C 357,84 360,86 360,100" fill="none" marker-end="url(#id22)" marker-start="url(#id23)" /><path class="arrow" d="M 375,50 C 375,66 381,69 397,75 C 413,80 420,83 420,100" fill="none" marker-end="url(#id22)" marker-start="url(#id23)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        nums = [1, 2, 3]
        x = nums[1]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="400" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id24" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker><marker id="id25" markerHeight="4" markerWidth="4" orient="auto" refX="2" refY="2" viewBox="0,0,4,4"><circle cx="2" cy="2" fill="black" r="2" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><rect class="list" height="50" width="40" x="315" y="25" /><rect class="list" height="50" width="40" x="355" y="25" /><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id24)" /><circle class="int value" cx="300" cy="125" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="125">1</text><circle class="int value" cx="360" cy="125" r="25" /><text dy=".3em" text-anchor="middle" x="360" y="125">2</text><circle class="int value" cx="420" cy="125" r="25" /><text dy=".3em" text-anchor="middle" x="420" y="125">3</text><path class="arrow" d="M 295,50 C 295,62 295,62 297,75 C 299,87 300,87 300,100" fill="none" marker-end="url(#id24)" marker-start="url(#id25)" /><path class="arrow" d="M 335,50 C 335,63 337,65 347,75 C 357,84 360,86 360,100" fill="none" marker-end="url(#id24)" marker-start="url(#id25)" /><path class="arrow" d="M 375,50 C 375,66 381,69 397,75 C 413,80 420,83 420,100" fill="none" marker-end="url(#id24)" marker-start="url(#id25)" /><polygon class="name" points="138,175 193.75,175 200,200 193.75,225 138,225" /><text dy=".3em" text-anchor="middle" x="165.875" y="200">x</text><path class="arrow" d="M 200,200 C 241,200 259,198 300,195 C 342,193 360,191 360,150" fill="none" marker-end="url(#id24)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1>Lots of things are references</h1>
    <ul>
        <li>Object attributes</li>
        <li>List elements</li>
        <li>Dict values (and keys!)</li>
        <li>Anything on the left side of an assignment</li>
    </ul>
    <pre class="python">
    my_obj.attr = 23
    my_dict[key] = 24
    my_list[index] = 25
    my_obj.attr[key][index].attr = "etc, etc"
    </pre>
</div>

<div class="slide">
    <h1>Lots of things are assignments</h1>
    <p>All of these assign to <b>X</b></p>
    <pre class="python">
    X = ...
    for X in ...
    class X(...):
    def X(...):
    def fn(X):
    import X
    from ... import X
    except ... as X:
    with ... as X:
    </pre>
</div>

<div class="slide">
    <h1>Function arguments are assignments</h1>
    <!--[[[cog
    code = '''\
        def func(x):
            print x
            return

        num = 17
        func(num)
        print num
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,250), frame_num=frame)

        n_num = auto_name(fig, "num")
        i_17 = fig.int(pos=fig.val_for_name(n_num), text="17")
        fig.reference(n_num, i_17)

        fig.frame(pos=fig.next_frame(), size=(200, 125), text="func", rise=2, set=5, fade=1)
        n_x = auto_name(fig, "x", rise=2, set=5, fade=1)
        fig.reference(n_x, i_17)

        cog.outl(fig.tostring())

    pyfig_animation(code, figure, [5, (6,1), 1, 2, 3, 7])
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        def func(x):
            print x
            return

        num = 17
        func(num)
        print num
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="5">
        def func(x):
            print x
            return

        num = 17
        func(num)
        print num
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="250" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id26" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="114,25 193.75,25 200,50 193.75,75 114,75" /><text dy=".3em" text-anchor="middle" x="153.875" y="50">num</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">17</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id26)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="6,1">
        def func(x):
            print x
            return

        num = 17
        func(num)
        print num
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="250" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id27" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="114,25 193.75,25 200,50 193.75,75 114,75" /><text dy=".3em" text-anchor="middle" x="153.875" y="50">num</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">17</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id27)" /><rect class="frame" height="125" rx="20" ry="20" width="200" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="125" y="125">func</text><polygon class="name" points="138,150 193.75,150 200,175 193.75,200 138,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">x</text><path class="arrow" d="M 200,175 C 236,175 236,148 237,112 C 238,76 238,50 275,50" fill="none" marker-end="url(#id27)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        def func(x):
            print x
            return

        num = 17
        func(num)
        print num
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="250" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id28" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="114,25 193.75,25 200,50 193.75,75 114,75" /><text dy=".3em" text-anchor="middle" x="153.875" y="50">num</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">17</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id28)" /><rect class="frame" height="125" rx="20" ry="20" width="200" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="125" y="125">func</text><polygon class="name" points="138,150 193.75,150 200,175 193.75,200 138,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">x</text><path class="arrow" d="M 200,175 C 236,175 236,148 237,112 C 238,76 238,50 275,50" fill="none" marker-end="url(#id28)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        def func(x):
            print x
            return

        num = 17
        func(num)
        print num
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="250" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id29" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="114,25 193.75,25 200,50 193.75,75 114,75" /><text dy=".3em" text-anchor="middle" x="153.875" y="50">num</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">17</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id29)" /><rect class="frame" height="125" rx="20" ry="20" width="200" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="125" y="125">func</text><polygon class="name" points="138,150 193.75,150 200,175 193.75,200 138,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">x</text><path class="arrow" d="M 200,175 C 236,175 236,148 237,112 C 238,76 238,50 275,50" fill="none" marker-end="url(#id29)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="3">
        def func(x):
            print x
            return

        num = 17
        func(num)
        print num
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="250" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id30" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="114,25 193.75,25 200,50 193.75,75 114,75" /><text dy=".3em" text-anchor="middle" x="153.875" y="50">num</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">17</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id30)" /><rect class="frame" height="125" opacity="0.25" rx="20" ry="20" width="200" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="0.25" text-anchor="middle" x="125" y="125">func</text><polygon class="name" opacity="0.25" points="138,150 193.75,150 200,175 193.75,200 138,200" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="165.875" y="175">x</text><path class="arrow" d="M 200,175 C 236,175 236,148 237,112 C 238,76 238,50 275,50" fill="none" marker-end="url(#id30)" opacity="0.25" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="7">
        def func(x):
            print x
            return

        num = 17
        func(num)
        print num
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="250" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id31" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="114,25 193.75,25 200,50 193.75,75 114,75" /><text dy=".3em" text-anchor="middle" x="153.875" y="50">num</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">17</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id31)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <!--[[[cog
    code = '''\
        def augment_twice(a_list, val):
            a_list.append(val)
            a_list.append(val)
            return

        nums = [1, 2, 3]
        augment_twice(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,325), frame_num=frame)

        n_nums = auto_name(fig, "nums")
        l_nums = fig.list(texts=["1", "2", "3"], pos=fig.val_for_name(n_nums))
        fig.reference(n_nums, l_nums[0])

        fig.frame(pos=fig.next_frame(), size=(200,200), text="augment_twice", rise=2, set=6, fade=1)
        n_a_list = auto_name(fig, "a_list", rise=2, set=6, fade=1)
        fig.reference(n_a_list, l_nums[0])
        n_val = auto_name(fig, "val", rise=2, set=6, fade=1)
        i_val = fig.int(pos=fig.val_for_name(n_val), text="7", rise=2, set=7, fade=1)
        fig.reference(n_val, i_val)

        l_nums = fig.list(texts=["1", "2", "3", "7"], center=l_nums[0].center, rise=4)
        fig.highlight(box=l_nums[-1], rise=4, set=5)
        fig.highlight(box=n_a_list, rise=4, set=6)
        l_nums = fig.list(texts=["1", "2", "3", "7", "7"], center=l_nums[0].center, rise=5)
        fig.highlight(box=l_nums[-1], rise=5, set=6)
        cog.outl(fig.tostring())

    pyfig_animation(code, figure, [6, (7, 1), 1, 2, 3, 4, 4, 8])
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        def augment_twice(a_list, val):
            a_list.append(val)
            a_list.append(val)
            return

        nums = [1, 2, 3]
        augment_twice(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="6">
        def augment_twice(a_list, val):
            a_list.append(val)
            a_list.append(val)
            return

        nums = [1, 2, 3]
        augment_twice(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id32" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id32)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="7,1">
        def augment_twice(a_list, val):
            a_list.append(val)
            a_list.append(val)
            return

        nums = [1, 2, 3]
        augment_twice(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id33" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id33)" /><rect class="frame" height="200" rx="20" ry="20" width="200" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="125" y="125">augment_twice</text><polygon class="name" points="78,150 193.75,150 200,175 193.75,200 78,200" /><text dy=".3em" text-anchor="middle" x="135.875" y="175">a_list</text><path class="arrow" d="M 200,175 C 236,175 236,148 237,112 C 238,76 238,50 275,50" fill="none" marker-end="url(#id33)" /><polygon class="name" points="114,225 193.75,225 200,250 193.75,275 114,275" /><text dy=".3em" text-anchor="middle" x="153.875" y="250">val</text><circle class="int value" cx="300" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="250">7</text><path class="arrow" d="M 200,250 C 218,250 218,250 237,250 C 256,250 256,250 275,250" fill="none" marker-end="url(#id33)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        def augment_twice(a_list, val):
            a_list.append(val)
            a_list.append(val)
            return

        nums = [1, 2, 3]
        augment_twice(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id34" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id34)" /><rect class="frame" height="200" rx="20" ry="20" width="200" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="125" y="125">augment_twice</text><polygon class="name" points="78,150 193.75,150 200,175 193.75,200 78,200" /><text dy=".3em" text-anchor="middle" x="135.875" y="175">a_list</text><path class="arrow" d="M 200,175 C 236,175 236,148 237,112 C 238,76 238,50 275,50" fill="none" marker-end="url(#id34)" /><polygon class="name" points="114,225 193.75,225 200,250 193.75,275 114,275" /><text dy=".3em" text-anchor="middle" x="153.875" y="250">val</text><circle class="int value" cx="300" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="250">7</text><path class="arrow" d="M 200,250 C 218,250 218,250 237,250 C 256,250 256,250 275,250" fill="none" marker-end="url(#id34)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        def augment_twice(a_list, val):
            a_list.append(val)
            a_list.append(val)
            return

        nums = [1, 2, 3]
        augment_twice(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id35" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id35)" /><rect class="frame" height="200" rx="20" ry="20" width="200" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="125" y="125">augment_twice</text><polygon class="name" points="78,150 193.75,150 200,175 193.75,200 78,200" /><text dy=".3em" text-anchor="middle" x="135.875" y="175">a_list</text><path class="arrow" d="M 200,175 C 236,175 236,148 237,112 C 238,76 238,50 275,50" fill="none" marker-end="url(#id35)" /><polygon class="name" points="114,225 193.75,225 200,250 193.75,275 114,275" /><text dy=".3em" text-anchor="middle" x="153.875" y="250">val</text><circle class="int value" cx="300" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="250">7</text><path class="arrow" d="M 200,250 C 218,250 218,250 237,250 C 256,250 256,250 275,250" fill="none" marker-end="url(#id35)" /><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">7</text><rect class="highlight" height="60" rx="5" ry="5" width="50" x="390" y="20" /><rect class="highlight" height="60" rx="5" ry="5" width="132" x="73" y="145" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="3">
        def augment_twice(a_list, val):
            a_list.append(val)
            a_list.append(val)
            return

        nums = [1, 2, 3]
        augment_twice(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id36" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id36)" /><rect class="frame" height="200" rx="20" ry="20" width="200" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="125" y="125">augment_twice</text><polygon class="name" points="78,150 193.75,150 200,175 193.75,200 78,200" /><text dy=".3em" text-anchor="middle" x="135.875" y="175">a_list</text><path class="arrow" d="M 200,175 C 236,175 236,148 237,112 C 238,76 238,50 275,50" fill="none" marker-end="url(#id36)" /><polygon class="name" points="114,225 193.75,225 200,250 193.75,275 114,275" /><text dy=".3em" text-anchor="middle" x="153.875" y="250">val</text><circle class="int value" cx="300" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="250">7</text><path class="arrow" d="M 200,250 C 218,250 218,250 237,250 C 256,250 256,250 275,250" fill="none" marker-end="url(#id36)" /><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">7</text><rect class="highlight" height="60" rx="5" ry="5" width="132" x="73" y="145" /><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">7</text><rect class="list" height="50" width="40" x="435" y="25" /><text dy=".3em" text-anchor="middle" x="455" y="50">7</text><rect class="highlight" height="60" rx="5" ry="5" width="50" x="430" y="20" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="4">
        def augment_twice(a_list, val):
            a_list.append(val)
            a_list.append(val)
            return

        nums = [1, 2, 3]
        augment_twice(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id37" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id37)" /><rect class="frame" height="200" opacity="0.25" rx="20" ry="20" width="200" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="0.25" text-anchor="middle" x="125" y="125">augment_twice</text><polygon class="name" opacity="0.25" points="78,150 193.75,150 200,175 193.75,200 78,200" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="135.875" y="175">a_list</text><path class="arrow" d="M 200,175 C 236,175 236,148 237,112 C 238,76 238,50 275,50" fill="none" marker-end="url(#id37)" opacity="0.25" /><polygon class="name" opacity="0.25" points="114,225 193.75,225 200,250 193.75,275 114,275" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="153.875" y="250">val</text><circle class="int value" cx="300" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="250">7</text><path class="arrow" d="M 200,250 C 218,250 218,250 237,250 C 256,250 256,250 275,250" fill="none" marker-end="url(#id37)" opacity="0.25" /><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">7</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">7</text><rect class="list" height="50" width="40" x="435" y="25" /><text dy=".3em" text-anchor="middle" x="455" y="50">7</text></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="4">
        def augment_twice(a_list, val):
            a_list.append(val)
            a_list.append(val)
            return

        nums = [1, 2, 3]
        augment_twice(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id38" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id38)" /><circle class="int value" cx="300" cy="250" opacity="0.25" r="25" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="300" y="250">7</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">7</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">7</text><rect class="list" height="50" width="40" x="435" y="25" /><text dy=".3em" text-anchor="middle" x="455" y="50">7</text></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="8">
        def augment_twice(a_list, val):
            a_list.append(val)
            a_list.append(val)
            return

        nums = [1, 2, 3]
        augment_twice(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id39" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="102,25 193.75,25 200,50 193.75,75 102,75" /><text dy=".3em" text-anchor="middle" x="147.875" y="50">nums</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><path class="arrow" d="M 200,50 C 218,50 218,50 237,50 C 256,50 256,50 275,50" fill="none" marker-end="url(#id39)" /><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">7</text><rect class="list" height="50" width="40" x="275" y="25" /><text dy=".3em" text-anchor="middle" x="295" y="50">1</text><rect class="list" height="50" width="40" x="315" y="25" /><text dy=".3em" text-anchor="middle" x="335" y="50">2</text><rect class="list" height="50" width="40" x="355" y="25" /><text dy=".3em" text-anchor="middle" x="375" y="50">3</text><rect class="list" height="50" width="40" x="395" y="25" /><text dy=".3em" text-anchor="middle" x="415" y="50">7</text><rect class="list" height="50" width="40" x="435" y="25" /><text dy=".3em" text-anchor="middle" x="455" y="50">7</text></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1></h1>
    <!--[[[cog
    code = '''\
        def augment_twice_bad(a_list, val):
            a_list = a_list + [val, val]
            return

        nums = [1, 2, 3]
        augment_twice_bad(nums, 7)
        print(nums)         # [1, 2, 3]
        '''

    def figure(frame):
        fig = make_pyfig(size=(550,325), frame_num=frame, name_right=230)

        n_nums = auto_name(fig, "nums")
        l_nums = fig.list(texts=["1", "2", "3"], pos=fig.val_for_name(n_nums))
        fig.reference(n_nums, l_nums[0])
        
        fig.frame(pos=fig.next_frame(), size=(230,200), text="augment_twice_bad", rise=2, set=6, fade=1)
        n_a_list = auto_name(fig, "a_list", rise=2, set=5)
        fig.reference(n_a_list, l_nums[0])
        n_val = auto_name(fig, "val", rise=2, set=6, fade=1)
        i_val = fig.int(pos=fig.val_for_name(n_val), text="7", rise=2, set=7, fade=1)
        fig.reference(n_val, i_val)

        n_a_list = fig.name(center=n_a_list.center, size=n_a_list.size, text="a_list", rise=5, set=6, fade=1)
        l_a_list = fig.list(texts=["1", "2", "3", "7", "7"], pos=fig.val_for_name(n_a_list), rise=4, set=7, fade=1)
        fig.highlight(box=l_a_list.box, rise=4, set=5)
        fig.reference(n_a_list, l_a_list[0])
        fig.highlight(box=n_a_list, rise=5, set=6)

        cog.outl(fig.tostring())

    pyfig_animation(code, figure, [5, (6, 1), 1, 2, 2, 3, 3, 7])
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        def augment_twice_bad(a_list, val):
            a_list = a_list + [val, val]
            return

        nums = [1, 2, 3]
        augment_twice_bad(nums, 7)
        print(nums)         # [1, 2, 3]
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="5">
        def augment_twice_bad(a_list, val):
            a_list = a_list + [val, val]
            return

        nums = [1, 2, 3]
        augment_twice_bad(nums, 7)
        print(nums)         # [1, 2, 3]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id40" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id40)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="6,1">
        def augment_twice_bad(a_list, val):
            a_list = a_list + [val, val]
            return

        nums = [1, 2, 3]
        augment_twice_bad(nums, 7)
        print(nums)         # [1, 2, 3]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id41" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id41)" /><rect class="frame" height="200" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="140" y="125">augment_twice_bad</text><polygon class="name" points="108,150 223.75,150 230,175 223.75,200 108,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">a_list</text><path class="arrow" d="M 230,175 C 266,175 266,148 267,112 C 268,76 268,50 305,50" fill="none" marker-end="url(#id41)" /><polygon class="name" points="144,225 223.75,225 230,250 223.75,275 144,275" /><text dy=".3em" text-anchor="middle" x="183.875" y="250">val</text><circle class="int value" cx="330" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="330" y="250">7</text><path class="arrow" d="M 230,250 C 248,250 248,250 267,250 C 286,250 286,250 305,250" fill="none" marker-end="url(#id41)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        def augment_twice_bad(a_list, val):
            a_list = a_list + [val, val]
            return

        nums = [1, 2, 3]
        augment_twice_bad(nums, 7)
        print(nums)         # [1, 2, 3]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id42" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id42)" /><rect class="frame" height="200" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="140" y="125">augment_twice_bad</text><polygon class="name" points="108,150 223.75,150 230,175 223.75,200 108,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">a_list</text><path class="arrow" d="M 230,175 C 266,175 266,148 267,112 C 268,76 268,50 305,50" fill="none" marker-end="url(#id42)" /><polygon class="name" points="144,225 223.75,225 230,250 223.75,275 144,275" /><text dy=".3em" text-anchor="middle" x="183.875" y="250">val</text><circle class="int value" cx="330" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="330" y="250">7</text><path class="arrow" d="M 230,250 C 248,250 248,250 267,250 C 286,250 286,250 305,250" fill="none" marker-end="url(#id42)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        def augment_twice_bad(a_list, val):
            a_list = a_list + [val, val]
            return

        nums = [1, 2, 3]
        augment_twice_bad(nums, 7)
        print(nums)         # [1, 2, 3]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id43" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id43)" /><rect class="frame" height="200" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="140" y="125">augment_twice_bad</text><polygon class="name" points="108,150 223.75,150 230,175 223.75,200 108,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">a_list</text><path class="arrow" d="M 230,175 C 266,175 266,148 267,112 C 268,76 268,50 305,50" fill="none" marker-end="url(#id43)" /><polygon class="name" points="144,225 223.75,225 230,250 223.75,275 144,275" /><text dy=".3em" text-anchor="middle" x="183.875" y="250">val</text><circle class="int value" cx="330" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="330" y="250">7</text><path class="arrow" d="M 230,250 C 248,250 248,250 267,250 C 286,250 286,250 305,250" fill="none" marker-end="url(#id43)" /><rect class="list" height="50" width="40" x="305" y="150" /><text dy=".3em" text-anchor="middle" x="325" y="175">1</text><rect class="list" height="50" width="40" x="345" y="150" /><text dy=".3em" text-anchor="middle" x="365" y="175">2</text><rect class="list" height="50" width="40" x="385" y="150" /><text dy=".3em" text-anchor="middle" x="405" y="175">3</text><rect class="list" height="50" width="40" x="425" y="150" /><text dy=".3em" text-anchor="middle" x="445" y="175">7</text><rect class="list" height="50" width="40" x="465" y="150" /><text dy=".3em" text-anchor="middle" x="485" y="175">7</text><rect class="highlight" height="60" rx="5" ry="5" width="210" x="300" y="145" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        def augment_twice_bad(a_list, val):
            a_list = a_list + [val, val]
            return

        nums = [1, 2, 3]
        augment_twice_bad(nums, 7)
        print(nums)         # [1, 2, 3]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id44" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id44)" /><rect class="frame" height="200" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="140" y="125">augment_twice_bad</text><polygon class="name" points="144,225 223.75,225 230,250 223.75,275 144,275" /><text dy=".3em" text-anchor="middle" x="183.875" y="250">val</text><circle class="int value" cx="330" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="330" y="250">7</text><path class="arrow" d="M 230,250 C 248,250 248,250 267,250 C 286,250 286,250 305,250" fill="none" marker-end="url(#id44)" /><polygon class="name" points="108,150 223.75,150 230,175 223.75,200 108,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">a_list</text><rect class="list" height="50" width="40" x="305" y="150" /><text dy=".3em" text-anchor="middle" x="325" y="175">1</text><rect class="list" height="50" width="40" x="345" y="150" /><text dy=".3em" text-anchor="middle" x="365" y="175">2</text><rect class="list" height="50" width="40" x="385" y="150" /><text dy=".3em" text-anchor="middle" x="405" y="175">3</text><rect class="list" height="50" width="40" x="425" y="150" /><text dy=".3em" text-anchor="middle" x="445" y="175">7</text><rect class="list" height="50" width="40" x="465" y="150" /><text dy=".3em" text-anchor="middle" x="485" y="175">7</text><path class="arrow" d="M 230,175 C 248,175 248,175 267,175 C 286,175 286,175 305,175" fill="none" marker-end="url(#id44)" /><rect class="highlight" height="60" rx="5" ry="5" width="132" x="103" y="145" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="3">
        def augment_twice_bad(a_list, val):
            a_list = a_list + [val, val]
            return

        nums = [1, 2, 3]
        augment_twice_bad(nums, 7)
        print(nums)         # [1, 2, 3]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id45" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id45)" /><rect class="frame" height="200" opacity="0.25" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="0.25" text-anchor="middle" x="140" y="125">augment_twice_bad</text><polygon class="name" opacity="0.25" points="144,225 223.75,225 230,250 223.75,275 144,275" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="183.875" y="250">val</text><circle class="int value" cx="330" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="330" y="250">7</text><path class="arrow" d="M 230,250 C 248,250 248,250 267,250 C 286,250 286,250 305,250" fill="none" marker-end="url(#id45)" opacity="0.25" /><polygon class="name" opacity="0.25" points="108,150 223.75,150 230,175 223.75,200 108,200" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="165.875" y="175">a_list</text><rect class="list" height="50" width="40" x="305" y="150" /><text dy=".3em" text-anchor="middle" x="325" y="175">1</text><rect class="list" height="50" width="40" x="345" y="150" /><text dy=".3em" text-anchor="middle" x="365" y="175">2</text><rect class="list" height="50" width="40" x="385" y="150" /><text dy=".3em" text-anchor="middle" x="405" y="175">3</text><rect class="list" height="50" width="40" x="425" y="150" /><text dy=".3em" text-anchor="middle" x="445" y="175">7</text><rect class="list" height="50" width="40" x="465" y="150" /><text dy=".3em" text-anchor="middle" x="485" y="175">7</text><path class="arrow" d="M 230,175 C 248,175 248,175 267,175 C 286,175 286,175 305,175" fill="none" marker-end="url(#id45)" opacity="0.25" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="3">
        def augment_twice_bad(a_list, val):
            a_list = a_list + [val, val]
            return

        nums = [1, 2, 3]
        augment_twice_bad(nums, 7)
        print(nums)         # [1, 2, 3]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id46" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id46)" /><circle class="int value" cx="330" cy="250" opacity="0.25" r="25" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="330" y="250">7</text><rect class="list" height="50" opacity="0.25" width="40" x="305" y="150" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="325" y="175">1</text><rect class="list" height="50" opacity="0.25" width="40" x="345" y="150" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="365" y="175">2</text><rect class="list" height="50" opacity="0.25" width="40" x="385" y="150" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="405" y="175">3</text><rect class="list" height="50" opacity="0.25" width="40" x="425" y="150" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="445" y="175">7</text><rect class="list" height="50" opacity="0.25" width="40" x="465" y="150" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="485" y="175">7</text></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="7">
        def augment_twice_bad(a_list, val):
            a_list = a_list + [val, val]
            return

        nums = [1, 2, 3]
        augment_twice_bad(nums, 7)
        print(nums)         # [1, 2, 3]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id47" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id47)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1></h1>
    <!--[[[cog
    code = '''\
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        '''

    def figure(frame):
        fig = make_pyfig(size=(550,325), frame_num=frame, name_right=230)

        n_nums = auto_name(fig, "nums")
        l_nums = fig.list(texts=["1", "2", "3"], pos=fig.val_for_name(n_nums), set=8, fade=1)
        fig.reference(n_nums, l_nums[0])
        
        the_frame = fig.frame(pos=fig.next_frame(), size=(230,200), text="augment_twice_good", rise=2, set=7, fade=1)
        n_a_list = auto_name(fig, "a_list", rise=2, set=5)
        fig.reference(n_a_list, l_nums[0])
        n_val = auto_name(fig, "val", rise=2, set=6, fade=1)
        i_val = fig.int(pos=fig.val_for_name(n_val), text="7", rise=2, set=6, fade=1)
        fig.reference(n_val, i_val)

        n_a_list = fig.name(center=n_a_list.center, size=n_a_list.size, text="a_list", rise=5, set=6, fade=1)
        l_a_list = fig.list(texts=["1", "2", "3", "7", "7"], pos=fig.val_for_name(n_a_list), rise=4)
        fig.reference(n_a_list, l_a_list[0])

        n_return = fig.name(center=(the_frame.right, n_a_list.cy), size=(25,25), text="", rise=6, set=8)
        fig.reference(n_return, l_a_list[0])

        n_nums = fig.name(center=n_nums.center, size=n_nums.size, text="nums", rise=8)
        fig.reference(n_nums, l_a_list[0])

        cog.outl(fig.tostring())

    pyfig_animation(code, figure, [5, (6, 1), 1, 2, 2, 3, 6, 6, 7])
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="5">
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id48" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id48)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="6,1">
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id49" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id49)" /><rect class="frame" height="200" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="140" y="125">augment_twice_good</text><polygon class="name" points="108,150 223.75,150 230,175 223.75,200 108,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">a_list</text><path class="arrow" d="M 230,175 C 266,175 266,148 267,112 C 268,76 268,50 305,50" fill="none" marker-end="url(#id49)" /><polygon class="name" points="144,225 223.75,225 230,250 223.75,275 144,275" /><text dy=".3em" text-anchor="middle" x="183.875" y="250">val</text><circle class="int value" cx="330" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="330" y="250">7</text><path class="arrow" d="M 230,250 C 248,250 248,250 267,250 C 286,250 286,250 305,250" fill="none" marker-end="url(#id49)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id50" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id50)" /><rect class="frame" height="200" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="140" y="125">augment_twice_good</text><polygon class="name" points="108,150 223.75,150 230,175 223.75,200 108,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">a_list</text><path class="arrow" d="M 230,175 C 266,175 266,148 267,112 C 268,76 268,50 305,50" fill="none" marker-end="url(#id50)" /><polygon class="name" points="144,225 223.75,225 230,250 223.75,275 144,275" /><text dy=".3em" text-anchor="middle" x="183.875" y="250">val</text><circle class="int value" cx="330" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="330" y="250">7</text><path class="arrow" d="M 230,250 C 248,250 248,250 267,250 C 286,250 286,250 305,250" fill="none" marker-end="url(#id50)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id51" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id51)" /><rect class="frame" height="200" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="140" y="125">augment_twice_good</text><polygon class="name" points="108,150 223.75,150 230,175 223.75,200 108,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">a_list</text><path class="arrow" d="M 230,175 C 266,175 266,148 267,112 C 268,76 268,50 305,50" fill="none" marker-end="url(#id51)" /><polygon class="name" points="144,225 223.75,225 230,250 223.75,275 144,275" /><text dy=".3em" text-anchor="middle" x="183.875" y="250">val</text><circle class="int value" cx="330" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="330" y="250">7</text><path class="arrow" d="M 230,250 C 248,250 248,250 267,250 C 286,250 286,250 305,250" fill="none" marker-end="url(#id51)" /><rect class="list" height="50" width="40" x="305" y="150" /><text dy=".3em" text-anchor="middle" x="325" y="175">1</text><rect class="list" height="50" width="40" x="345" y="150" /><text dy=".3em" text-anchor="middle" x="365" y="175">2</text><rect class="list" height="50" width="40" x="385" y="150" /><text dy=".3em" text-anchor="middle" x="405" y="175">3</text><rect class="list" height="50" width="40" x="425" y="150" /><text dy=".3em" text-anchor="middle" x="445" y="175">7</text><rect class="list" height="50" width="40" x="465" y="150" /><text dy=".3em" text-anchor="middle" x="485" y="175">7</text></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id52" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id52)" /><rect class="frame" height="200" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="140" y="125">augment_twice_good</text><polygon class="name" points="144,225 223.75,225 230,250 223.75,275 144,275" /><text dy=".3em" text-anchor="middle" x="183.875" y="250">val</text><circle class="int value" cx="330" cy="250" r="25" /><text dy=".3em" text-anchor="middle" x="330" y="250">7</text><path class="arrow" d="M 230,250 C 248,250 248,250 267,250 C 286,250 286,250 305,250" fill="none" marker-end="url(#id52)" /><polygon class="name" points="108,150 223.75,150 230,175 223.75,200 108,200" /><text dy=".3em" text-anchor="middle" x="165.875" y="175">a_list</text><rect class="list" height="50" width="40" x="305" y="150" /><text dy=".3em" text-anchor="middle" x="325" y="175">1</text><rect class="list" height="50" width="40" x="345" y="150" /><text dy=".3em" text-anchor="middle" x="365" y="175">2</text><rect class="list" height="50" width="40" x="385" y="150" /><text dy=".3em" text-anchor="middle" x="405" y="175">3</text><rect class="list" height="50" width="40" x="425" y="150" /><text dy=".3em" text-anchor="middle" x="445" y="175">7</text><rect class="list" height="50" width="40" x="465" y="150" /><text dy=".3em" text-anchor="middle" x="485" y="175">7</text><path class="arrow" d="M 230,175 C 248,175 248,175 267,175 C 286,175 286,175 305,175" fill="none" marker-end="url(#id52)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="3">
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id53" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id53)" /><rect class="frame" height="200" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="140" y="125">augment_twice_good</text><polygon class="name" opacity="0.25" points="144,225 223.75,225 230,250 223.75,275 144,275" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="183.875" y="250">val</text><circle class="int value" cx="330" cy="250" opacity="0.25" r="25" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="330" y="250">7</text><path class="arrow" d="M 230,250 C 248,250 248,250 267,250 C 286,250 286,250 305,250" fill="none" marker-end="url(#id53)" opacity="0.25" /><polygon class="name" opacity="0.25" points="108,150 223.75,150 230,175 223.75,200 108,200" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="165.875" y="175">a_list</text><rect class="list" height="50" width="40" x="305" y="150" /><text dy=".3em" text-anchor="middle" x="325" y="175">1</text><rect class="list" height="50" width="40" x="345" y="150" /><text dy=".3em" text-anchor="middle" x="365" y="175">2</text><rect class="list" height="50" width="40" x="385" y="150" /><text dy=".3em" text-anchor="middle" x="405" y="175">3</text><rect class="list" height="50" width="40" x="425" y="150" /><text dy=".3em" text-anchor="middle" x="445" y="175">7</text><rect class="list" height="50" width="40" x="465" y="150" /><text dy=".3em" text-anchor="middle" x="485" y="175">7</text><path class="arrow" d="M 230,175 C 248,175 248,175 267,175 C 286,175 286,175 305,175" fill="none" marker-end="url(#id53)" opacity="0.25" /><polygon class="name" points="242.5,162.5 264.375,162.5 267.5,175 264.375,187.5 242.5,187.5" /><path class="arrow" d="M 267,175 C 276,175 276,175 286,175 C 295,175 295,175 305,175" fill="none" marker-end="url(#id53)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="6">
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id54" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="25" /><text dy=".3em" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" width="40" x="345" y="25" /><text dy=".3em" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" width="40" x="385" y="25" /><text dy=".3em" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id54)" /><rect class="frame" height="200" opacity="0.25" rx="20" ry="20" width="230" x="25" y="100" /><text class="framelabel" dy=".3em" opacity="0.25" text-anchor="middle" x="140" y="125">augment_twice_good</text><rect class="list" height="50" width="40" x="305" y="150" /><text dy=".3em" text-anchor="middle" x="325" y="175">1</text><rect class="list" height="50" width="40" x="345" y="150" /><text dy=".3em" text-anchor="middle" x="365" y="175">2</text><rect class="list" height="50" width="40" x="385" y="150" /><text dy=".3em" text-anchor="middle" x="405" y="175">3</text><rect class="list" height="50" width="40" x="425" y="150" /><text dy=".3em" text-anchor="middle" x="445" y="175">7</text><rect class="list" height="50" width="40" x="465" y="150" /><text dy=".3em" text-anchor="middle" x="485" y="175">7</text><polygon class="name" points="242.5,162.5 264.375,162.5 267.5,175 264.375,187.5 242.5,187.5" /><path class="arrow" d="M 267,175 C 276,175 276,175 286,175 C 295,175 295,175 305,175" fill="none" marker-end="url(#id54)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="6">
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id55" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" opacity="0.25" width="40" x="305" y="25" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="325" y="50">1</text><rect class="list" height="50" opacity="0.25" width="40" x="345" y="25" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="365" y="50">2</text><rect class="list" height="50" opacity="0.25" width="40" x="385" y="25" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="405" y="50">3</text><path class="arrow" d="M 230,50 C 248,50 248,50 267,50 C 286,50 286,50 305,50" fill="none" marker-end="url(#id55)" opacity="0.25" /><rect class="list" height="50" width="40" x="305" y="150" /><text dy=".3em" text-anchor="middle" x="325" y="175">1</text><rect class="list" height="50" width="40" x="345" y="150" /><text dy=".3em" text-anchor="middle" x="365" y="175">2</text><rect class="list" height="50" width="40" x="385" y="150" /><text dy=".3em" text-anchor="middle" x="405" y="175">3</text><rect class="list" height="50" width="40" x="425" y="150" /><text dy=".3em" text-anchor="middle" x="445" y="175">7</text><rect class="list" height="50" width="40" x="465" y="150" /><text dy=".3em" text-anchor="middle" x="485" y="175">7</text><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><path class="arrow" d="M 230,50 C 266,50 266,76 267,112 C 268,148 268,175 305,175" fill="none" marker-end="url(#id55)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="7">
        def augment_twice_good(a_list, val):
            a_list = a_list + [val, val]
            return a_list

        nums = [1, 2, 3]
        nums = augment_twice_good(nums, 7)
        print(nums)         # [1, 2, 3, 7, 7]
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="550" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id56" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><rect class="list" height="50" width="40" x="305" y="150" /><text dy=".3em" text-anchor="middle" x="325" y="175">1</text><rect class="list" height="50" width="40" x="345" y="150" /><text dy=".3em" text-anchor="middle" x="365" y="175">2</text><rect class="list" height="50" width="40" x="385" y="150" /><text dy=".3em" text-anchor="middle" x="405" y="175">3</text><rect class="list" height="50" width="40" x="425" y="150" /><text dy=".3em" text-anchor="middle" x="445" y="175">7</text><rect class="list" height="50" width="40" x="465" y="150" /><text dy=".3em" text-anchor="middle" x="485" y="175">7</text><polygon class="name" points="132,25 223.75,25 230,50 223.75,75 132,75" /><text dy=".3em" text-anchor="middle" x="177.875" y="50">nums</text><path class="arrow" d="M 230,50 C 266,50 266,76 267,112 C 268,148 268,175 305,175" fill="none" marker-end="url(#id56)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1>Three augment_twice functions</h1>
    <pre class="python">
        def augment_twice(a_list, val):
            """Mutates argument."""
            a_list.append(val)
            a_list.append(val)
    </pre>
    <pre class="python">
        def augment_twice_bad(a_list, val):
            """Useless!"""
            a_list = a_list + [val, val]
    </pre>
    <pre class="python">
        def augment_twice_good(a_list, val):
            """Returns new list."""
            a_list = a_list + [val, val]
            return a_list
    </pre>
</div>

<div class="slide">
    <h1>Any name &rarr; any value @ any time</h1>
    <p>Dynamic typing</p>
    <!--[[[cog
    code = '''\
        x = 12
        x = "hello"
        x = [1, 2, 3]
        x[1] = "two"
        '''

    def figure(frame):
        fig = make_pyfig(size=(500,325), frame_num=frame)

        x0 = auto_name(fig, "", set=0)
        x = auto_name(fig, "x", set=2)
        x2 = auto_name(fig, "", set=0)
        x3 = auto_name(fig, "", set=0)

        i_12 = fig.int(pos=fig.val_for_name(x0), text="12", set=2, fade=10)
        fig.reference(x, i_12)
        x = fig.name(center=x.center, size=x.size, text="x", rise=2, set=3)
        s_hello = fig.string(pos=fig.val_for_name(x), text=repr("hello"), size=(130,50), rise=2, set=3, fade=10)
        fig.reference(x, s_hello)
        x = fig.name(center=x.center, size=x.size, text="x", rise=3)
        l_123 = fig.list(pos=fig.val_for_name(x2), texts="123", rise=3)
        fig.reference(x, l_123[0])
        l_1s3 = fig.list(pos=fig.val_for_name(x2), texts="1 3", rise=4)
        fig.reference(x, l_1s3[0])
        s_two = fig.string(center=(l_123[1].cx, x3.cy), text=repr("two"), size=(100, 50), rise=4)
        fig.connect(l_1s3[1].center, 90, s_two.north, 90, class_="arrow", start_marker=fig.DOT, rise=4)

        cog.outl(fig.tostring())

    pyfig_animation(code, figure, [])
    ]]]-->
    <!-- Animation {{{ -->
    <div class="overlay_container">
    <div class="overlay">
    <pre class="python tophalf">
        x = 12
        x = "hello"
        x = [1, 2, 3]
        x[1] = "two"
        </pre>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="1">
        x = 12
        x = "hello"
        x = [1, 2, 3]
        x[1] = "two"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id57" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker><marker id="id58" markerHeight="4" markerWidth="4" orient="auto" refX="2" refY="2" viewBox="0,0,4,4"><circle cx="2" cy="2" fill="black" r="2" stroke="none" /></marker></defs><polygon class="name" points="138,100 193.75,100 200,125 193.75,150 138,150" /><text dy=".3em" text-anchor="middle" x="165.875" y="125">x</text><circle class="int value" cx="300" cy="50" r="25" /><text dy=".3em" text-anchor="middle" x="300" y="50">12</text><path class="arrow" d="M 200,125 C 226,125 230,112 237,87 C 244,62 248,50 275,50" fill="none" marker-end="url(#id57)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="2">
        x = 12
        x = "hello"
        x = [1, 2, 3]
        x[1] = "two"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id59" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker><marker id="id60" markerHeight="4" markerWidth="4" orient="auto" refX="2" refY="2" viewBox="0,0,4,4"><circle cx="2" cy="2" fill="black" r="2" stroke="none" /></marker></defs><circle class="int value" cx="300" cy="50" opacity="0.25" r="25" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="300" y="50">12</text><polygon class="name" points="138,100 193.75,100 200,125 193.75,150 138,150" /><text dy=".3em" text-anchor="middle" x="165.875" y="125">x</text><rect class="string value" height="50" rx="25" ry="25" width="130" x="275" y="100" /><text dy=".3em" text-anchor="middle" x="340" y="125">'hello'</text><path class="arrow" d="M 200,125 C 218,125 218,125 237,125 C 256,125 256,125 275,125" fill="none" marker-end="url(#id59)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="3">
        x = 12
        x = "hello"
        x = [1, 2, 3]
        x[1] = "two"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id61" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker><marker id="id62" markerHeight="4" markerWidth="4" orient="auto" refX="2" refY="2" viewBox="0,0,4,4"><circle cx="2" cy="2" fill="black" r="2" stroke="none" /></marker></defs><circle class="int value" cx="300" cy="50" opacity="0.25" r="25" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="300" y="50">12</text><rect class="string value" height="50" opacity="0.25" rx="25" ry="25" width="130" x="275" y="100" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="340" y="125">'hello'</text><polygon class="name" points="138,100 193.75,100 200,125 193.75,150 138,150" /><text dy=".3em" text-anchor="middle" x="165.875" y="125">x</text><rect class="list" height="50" width="40" x="275" y="175" /><text dy=".3em" text-anchor="middle" x="295" y="200">1</text><rect class="list" height="50" width="40" x="315" y="175" /><text dy=".3em" text-anchor="middle" x="335" y="200">2</text><rect class="list" height="50" width="40" x="355" y="175" /><text dy=".3em" text-anchor="middle" x="375" y="200">3</text><path class="arrow" d="M 200,125 C 226,125 230,137 237,162 C 244,187 248,200 275,200" fill="none" marker-end="url(#id61)" /></svg>
    </div>
    </div>
    <div class="overlay incremental">
    <pre class="python tophalf" select="4">
        x = 12
        x = "hello"
        x = [1, 2, 3]
        x[1] = "two"
        </pre>
    <div class="opaque bottomhalf" style="text-align:center">
    <svg baseProfile="full" height="325" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id63" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker><marker id="id64" markerHeight="4" markerWidth="4" orient="auto" refX="2" refY="2" viewBox="0,0,4,4"><circle cx="2" cy="2" fill="black" r="2" stroke="none" /></marker></defs><circle class="int value" cx="300" cy="50" opacity="0.25" r="25" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="300" y="50">12</text><rect class="string value" height="50" opacity="0.25" rx="25" ry="25" width="130" x="275" y="100" /><text dy=".3em" opacity="0.25" text-anchor="middle" x="340" y="125">'hello'</text><polygon class="name" points="138,100 193.75,100 200,125 193.75,150 138,150" /><text dy=".3em" text-anchor="middle" x="165.875" y="125">x</text><rect class="list" height="50" width="40" x="275" y="175" /><text dy=".3em" text-anchor="middle" x="295" y="200">1</text><rect class="list" height="50" width="40" x="315" y="175" /><text dy=".3em" text-anchor="middle" x="335" y="200">2</text><rect class="list" height="50" width="40" x="355" y="175" /><text dy=".3em" text-anchor="middle" x="375" y="200">3</text><path class="arrow" d="M 200,125 C 226,125 230,137 237,162 C 244,187 248,200 275,200" fill="none" marker-end="url(#id63)" /><rect class="list" height="50" width="40" x="275" y="175" /><text dy=".3em" text-anchor="middle" x="295" y="200">1</text><rect class="list" height="50" width="40" x="315" y="175" /><text dy=".3em" text-anchor="middle" x="335" y="200"> </text><rect class="list" height="50" width="40" x="355" y="175" /><text dy=".3em" text-anchor="middle" x="375" y="200">3</text><path class="arrow" d="M 200,125 C 226,125 230,137 237,162 C 244,187 248,200 275,200" fill="none" marker-end="url(#id63)" /><rect class="string value" height="50" rx="25" ry="25" width="100" x="285" y="250" /><text dy=".3em" text-anchor="middle" x="335" y="275">'two'</text><path class="arrow" d="M 335,200 C 335,212 335,212 335,225 C 335,237 335,237 335,250" fill="none" marker-end="url(#id63)" marker-start="url(#id64)" /></svg>
    </div>
    </div>
    </div>
    <!-- }}} -->
    <!--[[[end]]]-->
</div>

<div class="slide">
    <h1 style="margin-bottom:0">Names have no type</h1>
    <h1 style="margin-top:0;text-align:right">Values have no scope</h1>
    <div class="opaque" style="text-align:center">
        <!--[[[cog
            # Random figure!
            fig = make_pyfig(size=(400,500), scale=0.55, val_gap=175)

            r = random.Random(14)   # seeded to make it pretty good.

            def rand_name():
                return "".join(r.choice(string.lowercase) for i in range(r.randint(3,7)))

            def lightly_shuffle(seq):
                """Reorder a list randomly, but don't move things too far."""
                numbered = list(enumerate(seq))
                def jitter(p):
                    return p[0]+r.randint(-3,3)
                shuffled = [x for i,x in sorted(numbered, key=jitter)]
                return shuffled

            names = []
            for i in range(r.randint(2,3)):
                names.append(auto_name(fig, rand_name()))

            for f in range(3):
                num_vars = r.randint(2,3)
                fig.frame(pos=fig.next_frame(), size=(200,50+75*num_vars), text="func_"+rand_name())
                for i in range(num_vars):
                    names.append(auto_name(fig, rand_name()))
                fig.end_frame()

            values = []
            for name in names:
                pos = fig.val_for_name(name)
                type = r.choice(['int']*2 + ['string']*4 + ['list']*8)
                if type == 'int':
                    val = fig.int(pos=pos, text=str(r.randint(5,20)))
                elif type == 'string':
                    s = rand_name()
                    val = fig.string(pos=pos, text=repr(s), size=(70+10*len(s), 50))
                elif type == 'list':
                    els = r.randint(4, 10)
                    val = fig.list(pos=pos, texts=[str(r.randint(5,20)) for i in range(els)])
                    val = val[0]
                values.append(val)

            # Mix things up
            shuffled = lightly_shuffle(names)
            #for i in range(len(values)-1):
            #    if r.random() > .75:
            #        values[i+1] = values[0]

            for name, val in zip(shuffled, values):
                fig.reference(name, val)


            cog.out(fig.tostring())
        ]]]-->
        <svg baseProfile="full" height="500" version="1.1" width="400" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="id65" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5" viewBox="0,0,10,10"><path d="M 0,0 L 10,5 L 0,10 L 1,5 z" fill="black" stroke="none" /></marker></defs><g transform="scale(0.55)"><polygon class="name" points="78,25 193.75,25 200,50 193.75,75 78,75" /><text dy=".3em" text-anchor="middle" x="135.875" y="50">qyhgtr</text><polygon class="name" points="102,100 193.75,100 200,125 193.75,150 102,150" /><text dy=".3em" text-anchor="middle" x="147.875" y="125">rkud</text><rect class="frame" height="200" rx="20" ry="20" width="200" x="25" y="175" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="125" y="200">func_jguqdor</text><polygon class="name" points="114,225 193.75,225 200,250 193.75,275 114,275" /><text dy=".3em" text-anchor="middle" x="153.875" y="250">qdi</text><polygon class="name" points="114,300 193.75,300 200,325 193.75,350 114,350" /><text dy=".3em" text-anchor="middle" x="153.875" y="325">fzk</text><rect class="frame" height="275" rx="20" ry="20" width="200" x="25" y="400" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="125" y="425">func_pwrcp</text><polygon class="name" points="78,450 193.75,450 200,475 193.75,500 78,500" /><text dy=".3em" text-anchor="middle" x="135.875" y="475">ecwnfl</text><polygon class="name" points="102,525 193.75,525 200,550 193.75,575 102,575" /><text dy=".3em" text-anchor="middle" x="147.875" y="550">uncv</text><polygon class="name" points="114,600 193.75,600 200,625 193.75,650 114,650" /><text dy=".3em" text-anchor="middle" x="153.875" y="625">hat</text><rect class="frame" height="200" rx="20" ry="20" width="200" x="25" y="700" /><text class="framelabel" dy=".3em" opacity="1" text-anchor="middle" x="125" y="725">func_cmrnl</text><polygon class="name" points="90,750 193.75,750 200,775 193.75,800 90,800" /><text dy=".3em" text-anchor="middle" x="141.875" y="775">lpcmg</text><polygon class="name" points="66,825 193.75,825 200,850 193.75,875 66,875" /><text dy=".3em" text-anchor="middle" x="129.875" y="850">ybdsoas</text><rect class="list" height="50" width="40" x="375" y="25" /><text dy=".3em" text-anchor="middle" x="395" y="50">10</text><rect class="list" height="50" width="40" x="415" y="25" /><text dy=".3em" text-anchor="middle" x="435" y="50">14</text><rect class="list" height="50" width="40" x="455" y="25" /><text dy=".3em" text-anchor="middle" x="475" y="50">20</text><rect class="list" height="50" width="40" x="495" y="25" /><text dy=".3em" text-anchor="middle" x="515" y="50">9</text><rect class="list" height="50" width="40" x="535" y="25" /><text dy=".3em" text-anchor="middle" x="555" y="50">9</text><rect class="list" height="50" width="40" x="575" y="25" /><text dy=".3em" text-anchor="middle" x="595" y="50">8</text><rect class="list" height="50" width="40" x="375" y="100" /><text dy=".3em" text-anchor="middle" x="395" y="125">9</text><rect class="list" height="50" width="40" x="415" y="100" /><text dy=".3em" text-anchor="middle" x="435" y="125">11</text><rect class="list" height="50" width="40" x="455" y="100" /><text dy=".3em" text-anchor="middle" x="475" y="125">5</text><rect class="list" height="50" width="40" x="495" y="100" /><text dy=".3em" text-anchor="middle" x="515" y="125">9</text><rect class="list" height="50" width="40" x="535" y="100" /><text dy=".3em" text-anchor="middle" x="555" y="125">20</text><rect class="list" height="50" width="40" x="575" y="100" /><text dy=".3em" text-anchor="middle" x="595" y="125">14</text><rect class="list" height="50" width="40" x="615" y="100" /><text dy=".3em" text-anchor="middle" x="635" y="125">9</text><rect class="list" height="50" width="40" x="375" y="225" /><text dy=".3em" text-anchor="middle" x="395" y="250">9</text><rect class="list" height="50" width="40" x="415" y="225" /><text dy=".3em" text-anchor="middle" x="435" y="250">5</text><rect class="list" height="50" width="40" x="455" y="225" /><text dy=".3em" text-anchor="middle" x="475" y="250">7</text><rect class="list" height="50" width="40" x="495" y="225" /><text dy=".3em" text-anchor="middle" x="515" y="250">8</text><rect class="list" height="50" width="40" x="535" y="225" /><text dy=".3em" text-anchor="middle" x="555" y="250">8</text><rect class="list" height="50" width="40" x="575" y="225" /><text dy=".3em" text-anchor="middle" x="595" y="250">18</text><rect class="string value" height="50" rx="25" ry="25" width="110" x="375" y="300" /><text dy=".3em" text-anchor="middle" x="430" y="325">'pxht'</text><rect class="string value" height="50" rx="25" ry="25" width="120" x="375" y="450" /><text dy=".3em" text-anchor="middle" x="435" y="475">'pytnv'</text><rect class="string value" height="50" rx="25" ry="25" width="110" x="375" y="525" /><text dy=".3em" text-anchor="middle" x="430" y="550">'youi'</text><rect class="list" height="50" width="40" x="375" y="600" /><text dy=".3em" text-anchor="middle" x="395" y="625">8</text><rect class="list" height="50" width="40" x="415" y="600" /><text dy=".3em" text-anchor="middle" x="435" y="625">19</text><rect class="list" height="50" width="40" x="455" y="600" /><text dy=".3em" text-anchor="middle" x="475" y="625">12</text><rect class="list" height="50" width="40" x="495" y="600" /><text dy=".3em" text-anchor="middle" x="515" y="625">10</text><rect class="list" height="50" width="40" x="535" y="600" /><text dy=".3em" text-anchor="middle" x="555" y="625">9</text><rect class="list" height="50" width="40" x="575" y="600" /><text dy=".3em" text-anchor="middle" x="595" y="625">6</text><rect class="list" height="50" width="40" x="615" y="600" /><text dy=".3em" text-anchor="middle" x="635" y="625">8</text><rect class="list" height="50" width="40" x="655" y="600" /><text dy=".3em" text-anchor="middle" x="675" y="625">16</text><circle class="int value" cx="400" cy="775" r="25" /><text dy=".3em" text-anchor="middle" x="400" y="775">9</text><rect class="list" height="50" width="40" x="375" y="825" /><text dy=".3em" text-anchor="middle" x="395" y="850">11</text><rect class="list" height="50" width="40" x="415" y="825" /><text dy=".3em" text-anchor="middle" x="435" y="850">17</text><rect class="list" height="50" width="40" x="455" y="825" /><text dy=".3em" text-anchor="middle" x="475" y="850">9</text><rect class="list" height="50" width="40" x="495" y="825" /><text dy=".3em" text-anchor="middle" x="515" y="850">10</text><rect class="list" height="50" width="40" x="535" y="825" /><text dy=".3em" text-anchor="middle" x="555" y="850">11</text><rect class="list" height="50" width="40" x="575" y="825" /><text dy=".3em" text-anchor="middle" x="595" y="850">7</text><rect class="list" height="50" width="40" x="615" y="825" /><text dy=".3em" text-anchor="middle" x="635" y="850">8</text><path class="arrow" d="M 200,50 C 243,50 243,50 287,50 C 331,50 331,50 375,50" fill="none" marker-end="url(#id65)" /><path class="arrow" d="M 200,250 C 253,250 261,234 287,187 C 313,140 321,125 375,125" fill="none" marker-end="url(#id65)" /><path class="arrow" d="M 200,475 C 271,475 277,433 287,362 C 297,291 303,250 375,250" fill="none" marker-end="url(#id65)" /><path class="arrow" d="M 200,125 C 266,125 273,159 287,225 C 301,290 308,325 375,325" fill="none" marker-end="url(#id65)" /><path class="arrow" d="M 200,325 C 257,325 266,346 287,400 C 308,453 317,475 375,475" fill="none" marker-end="url(#id65)" /><path class="arrow" d="M 200,550 C 243,550 243,550 287,550 C 331,550 331,550 375,550" fill="none" marker-end="url(#id65)" /><path class="arrow" d="M 200,775 C 257,775 266,753 287,700 C 308,646 317,625 375,625" fill="none" marker-end="url(#id65)" /><path class="arrow" d="M 200,625 C 257,625 266,646 287,700 C 308,753 317,775 375,775" fill="none" marker-end="url(#id65)" /><path class="arrow" d="M 200,850 C 243,850 243,850 287,850 C 331,850 331,850 375,850" fill="none" marker-end="url(#id65)" /></g></svg>
        <!--[[[end]]]-->
    </div>
</div>

<div class="slide">
    <h1>Other topics</h1>
    <ul>
    <li class="incremental">"Python has no variables." <b>Wrong!</b></li>
    <li class="incremental">Call-by-value or call-by-reference?</li>
    <li class="incremental">Making a 2D list:
        <pre class="python">
        board = [[0] * 8] * 8                # bad
        board = [[0] * 8 for _ in range(8)]  # good
        </pre>
    </li>
    <li class="incremental">Try pythontutor.com!</li>
    </ul>
</div>

<!--
<div class="slide">
    <h1>Names &amp; values are simple</h1>
    <h1>Different than other languages (esp C)</h1>
    <h1>Also useful: <a href="http://pythontutor.com/visualize.html#code=def%20augment_twice_bad%28a_list%2C%20val%29%3A%0A%20%20%20%20a_list%20%3D%20a_list%20%2B%20[val%2C%20val]%0A%0Anums%20%3D%20[1%2C%202%2C%203]%0Aaugment_twice_bad%28nums%2C%204%29%0Aprint%28nums%29%20%20%20%20%20%20%20%20%20%23%20[1%2C%202%2C%203]%0A&mode=display&cumulative=false&heapPrimitives=false&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2" target="_blank">pythontutor.com</a></h1>
</div>
-->

<div class="slide title" data-layout="clean">
    <h1 style="padding-top: 0em">Questions?</h1>
    <div style="height: 60%;float: left">
        <img src="refer_madness.jpg" style="height: 80%; border: 1px solid #888"/>
        <p style="font-size: 60%"><i>Thanks, Craig Swanson&nbsp;&nbsp; http://perspicuity.com</i></p>
    </div>
    <h2 style="margin-top: 5em">@nedbat</h2>
    <h2>http://bit.ly/pynames</h2>
</div>

<!-- ** Attic {{{ -->
<div class="layout" data-name="default">
    <content></content>
    <div class="footer">
        <span class="left">bit.ly<span class='punct'>/</span>pynames</span>
        <span class="right"><span class='punct'>@</span>nedbat</span>
        <hr class="defloat" />
    </div>
</div>

<div class="layout nofooter" name="clean" data-name="clean">
    <content></content>
</div>


</body>
</html>
